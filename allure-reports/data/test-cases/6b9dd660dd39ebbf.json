{"uid":"6b9dd660dd39ebbf","name":"test_01_sale_in_shop_product","fullName":"tests.test_1_sale_in_shop.test_1_sale_in_shop#test_01_sale_in_shop_product","historyId":"61c570a5c80e9195a1325ae1db2218fc","time":{"start":1747145819836,"stop":1747145903404,"duration":83568},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x00000239D74751D0>\nshop_sale_page = <pages.shop_page.shop_sale_page.ShopSalePage object at 0x00000239D7475810>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x00000239D7474D10>\n\n    @pytest.mark.smoke('smoke test')\n    def test_01_sale_in_shop_product(open_crm_as_admin, lead_page, shop_sale_page, contract_create_page):\n        logging.info('Старт проверки \"Продажа техники из магазина за наличку\"')\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot(\"change_office\")\n    \n        logging.info('Переход в магазин')\n        shop_sale_page.navigate_to_shop_page()\n        shop_sale_page.take_screenshot(\"navigated_to_shop\")\n    \n        logging.info('Открытие фильтра справа и сортировка для продажи товаров (не ЮИ)')\n        shop_sale_page.filter_for_sale_product_in_shop()\n        shop_sale_page.take_screenshot(\"filter_for_sale_product_in_shop\")\n    \n        logging.info('Продажа товара из магазина (не ЮИ)')\n        shop_sale_page.sale_product_in_shop()\n        shop_sale_page.take_screenshot(\"sale_product_in_shop\")\n    \n        logging.info('Печать документа')\n>       contract_create_page.print_document()\n\ntests\\test_1_sale_in_shop\\test_1_sale_in_shop.py:25: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x00000239D7474D10>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:96: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1747145799829,"stop":1747145799831,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"driver","time":{"start":1747145799831,"stop":1747145807306,"duration":7475},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests","time":{"start":1747145799831,"stop":1747145799831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"login_page","time":{"start":1747145807306,"stop":1747145807390,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"open_crm_as_admin","time":{"start":1747145807390,"stop":1747145819824,"duration":12434},"status":"passed","steps":[{"name":"enter correct login and password","time":{"start":1747145812825,"stop":1747145819320,"duration":6495},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Check correct url","time":{"start":1747145819321,"stop":1747145819327,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"91e8dcfe247ba168","name":"screenshot","source":"91e8dcfe247ba168.png","type":"image/png","size":193631}],"parameters":[],"stepsCount":2,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"lead_page","time":{"start":1747145819824,"stop":1747145819828,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"shop_sale_page","time":{"start":1747145819828,"stop":1747145819832,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"contract_create_page","time":{"start":1747145819832,"stop":1747145819835,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x00000239D74751D0>\nshop_sale_page = <pages.shop_page.shop_sale_page.ShopSalePage object at 0x00000239D7475810>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x00000239D7474D10>\n\n    @pytest.mark.smoke('smoke test')\n    def test_01_sale_in_shop_product(open_crm_as_admin, lead_page, shop_sale_page, contract_create_page):\n        logging.info('Старт проверки \"Продажа техники из магазина за наличку\"')\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot(\"change_office\")\n    \n        logging.info('Переход в магазин')\n        shop_sale_page.navigate_to_shop_page()\n        shop_sale_page.take_screenshot(\"navigated_to_shop\")\n    \n        logging.info('Открытие фильтра справа и сортировка для продажи товаров (не ЮИ)')\n        shop_sale_page.filter_for_sale_product_in_shop()\n        shop_sale_page.take_screenshot(\"filter_for_sale_product_in_shop\")\n    \n        logging.info('Продажа товара из магазина (не ЮИ)')\n        shop_sale_page.sale_product_in_shop()\n        shop_sale_page.take_screenshot(\"sale_product_in_shop\")\n    \n        logging.info('Печать документа')\n>       contract_create_page.print_document()\n\ntests\\test_1_sale_in_shop\\test_1_sale_in_shop.py:25: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x00000239D7474D10>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:96: AttributeError","steps":[],"attachments":[{"uid":"78ba0f968840aa32","name":"change_office","source":"78ba0f968840aa32.png","type":"image/png","size":187410},{"uid":"67538894f4f1299f","name":"navigated_to_shop","source":"67538894f4f1299f.png","type":"image/png","size":225366},{"uid":"12a7856a35a60c1","name":"filter_for_sale_product_in_shop","source":"12a7856a35a60c1.png","type":"image/png","size":167486},{"uid":"482428d0810e73f2","name":"sale_product_in_shop","source":"482428d0810e73f2.png","type":"image/png","size":115876},{"uid":"2db286f6331b5788","name":"log","source":"2db286f6331b5788.txt","type":"text/plain","size":1186}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":5},"afterStages":[{"name":"driver::0","time":{"start":1747145903734,"stop":1747145908555,"duration":4821},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests::0","time":{"start":1747145908557,"stop":1747145910970,"duration":2413},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"tag","value":"smoke('smoke test')"},{"name":"parentSuite","value":"tests.test_1_sale_in_shop"},{"name":"suite","value":"test_1_sale_in_shop"},{"name":"host","value":"LAPTOP-R624DMFA"},{"name":"thread","value":"16944-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_1_sale_in_shop.test_1_sale_in_shop"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["smoke('smoke test')"]},"source":"6b9dd660dd39ebbf.json","parameterValues":[]}
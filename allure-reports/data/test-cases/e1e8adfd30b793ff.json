{"uid":"e1e8adfd30b793ff","name":"test_01_sale_in_shop_product","fullName":"tests.test_1_sale_in_shop.test_1_sale_in_shop#test_01_sale_in_shop_product","historyId":"61c570a5c80e9195a1325ae1db2218fc","time":{"start":1747136216923,"stop":1747136350422,"duration":133499},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x0000016B93956250>\nshop_sale_page = <pages.shop_page.shop_sale_page.ShopSalePage object at 0x0000016B93956150>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000016B93956710>\n\n    @pytest.mark.smoke('smoke test')\n    def test_01_sale_in_shop_product(open_crm_as_admin, lead_page, shop_sale_page, contract_create_page):\n        logging.info('Старт проверки \"Продажа техники из магазина за наличку\"')\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot(\"change_office\")\n    \n        logging.info('Пополнение кассы')\n        lead_page.add_cash_in_cash_register(15000)\n        lead_page.take_screenshot(\"cash_register_filled\")\n    \n        logging.info('Переход в магазин')\n        shop_sale_page.navigate_to_shop_page()\n        shop_sale_page.take_screenshot(\"navigated_to_shop\")\n    \n        logging.info('Открытие фильтра справа и сортировка для продажи товаров (не ЮИ)')\n        shop_sale_page.filter_for_sale_product_in_shop()\n    \n        logging.info('Продажа товара из магазина (не ЮИ)')\n        shop_sale_page.sale_product_in_shop()\n    \n        logging.info('Печать документа')\n>       contract_create_page.print_document()\n\ntests\\test_1_sale_in_shop\\test_1_sale_in_shop.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000016B93956710>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:96: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1747136195247,"stop":1747136195248,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests","time":{"start":1747136195248,"stop":1747136195248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"driver","time":{"start":1747136195249,"stop":1747136203236,"duration":7987},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"login_page","time":{"start":1747136203236,"stop":1747136203321,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"open_crm_as_admin","time":{"start":1747136203321,"stop":1747136216908,"duration":13587},"status":"passed","steps":[{"name":"enter correct login and password","time":{"start":1747136208751,"stop":1747136216661,"duration":7910},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Check correct url","time":{"start":1747136216661,"stop":1747136216668,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"db308e8c666961a6","name":"f749a953-9f74-4b0c-990d-1668fe0dafb5-attachment.png","source":"db308e8c666961a6.png","type":"image/png","size":195407}],"parameters":[],"stepsCount":2,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"lead_page","time":{"start":1747136216908,"stop":1747136216915,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"shop_sale_page","time":{"start":1747136216916,"stop":1747136216919,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"contract_create_page","time":{"start":1747136216919,"stop":1747136216922,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x0000016B93956250>\nshop_sale_page = <pages.shop_page.shop_sale_page.ShopSalePage object at 0x0000016B93956150>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000016B93956710>\n\n    @pytest.mark.smoke('smoke test')\n    def test_01_sale_in_shop_product(open_crm_as_admin, lead_page, shop_sale_page, contract_create_page):\n        logging.info('Старт проверки \"Продажа техники из магазина за наличку\"')\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot(\"change_office\")\n    \n        logging.info('Пополнение кассы')\n        lead_page.add_cash_in_cash_register(15000)\n        lead_page.take_screenshot(\"cash_register_filled\")\n    \n        logging.info('Переход в магазин')\n        shop_sale_page.navigate_to_shop_page()\n        shop_sale_page.take_screenshot(\"navigated_to_shop\")\n    \n        logging.info('Открытие фильтра справа и сортировка для продажи товаров (не ЮИ)')\n        shop_sale_page.filter_for_sale_product_in_shop()\n    \n        logging.info('Продажа товара из магазина (не ЮИ)')\n        shop_sale_page.sale_product_in_shop()\n    \n        logging.info('Печать документа')\n>       contract_create_page.print_document()\n\ntests\\test_1_sale_in_shop\\test_1_sale_in_shop.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000016B93956710>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:96: AttributeError","steps":[],"attachments":[{"uid":"fe11f64b6119cda5","name":"20ce6de7-27e8-4fc1-bc44-948b87c32794-attachment.png","source":"fe11f64b6119cda5.png","type":"image/png","size":182577},{"uid":"53b90e26ac205d2e","name":"26d1d409-fcd9-4b19-8115-fe63fd6bfac5-attachment.png","source":"53b90e26ac205d2e.png","type":"image/png","size":127980},{"uid":"69fb567a56cde14e","name":"13c542ed-000a-4045-9c07-74e0a90bcfb4-attachment.png","source":"69fb567a56cde14e.png","type":"image/png","size":112802},{"uid":"bb6ba02f7d012b4e","name":"log","source":"bb6ba02f7d012b4e.txt","type":"text/plain","size":1392}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":4},"afterStages":[{"name":"driver::0","time":{"start":1747136350754,"stop":1747136356114,"duration":5360},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests::0","time":{"start":1747136356118,"stop":1747136358456,"duration":2338},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"tag","value":"smoke('smoke test')"},{"name":"parentSuite","value":"tests.test_1_sale_in_shop"},{"name":"suite","value":"test_1_sale_in_shop"},{"name":"host","value":"LAPTOP-R624DMFA"},{"name":"thread","value":"14800-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_1_sale_in_shop.test_1_sale_in_shop"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["smoke('smoke test')"]},"source":"e1e8adfd30b793ff.json","parameterValues":[]}
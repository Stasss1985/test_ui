{"uid":"d371d0fbe941ea57","name":"test_create_old_lead_silver_cash_contract","fullName":"tests.test_add_lead_contract#test_create_old_lead_silver_cash_contract","historyId":"d6d1b12237757341d4149a66e801a293","time":{"start":1747548547394,"stop":1747548664548,"duration":117154},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x000002D7CE256910>\nproduct_page = <pages.lead_page.product_page.ProductPage object at 0x000002D7CE255A90>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x000002D7CE254690>\n\n    @pytest.mark.smoke('smoke test')\n    def test_create_old_lead_silver_cash_contract(open_crm_as_admin, lead_page, product_page, contract_create_page):\n        # Смена офиса\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot()\n        # Переход к созданию лида\n        lead_page.navigate_to_lead_create()\n        lead_page.take_screenshot()\n        # Выбор клиента из базы\n        lead_page.chose_old_client_to_lead()\n        lead_page.take_screenshot()\n        # Добавление продукта\n        product_page.add_product_silver()\n        product_page.take_screenshot()\n        # Выбор тарифа\n        contract_create_page.contract_tariff_chose_1()\n        contract_create_page.take_screenshot()\n        # Создание договора\n        contract_create_page.create_operation_create_contract()\n        contract_create_page.take_screenshot()\n        # Печать документа\n>       contract_create_page.print_document()\n\ntests\\test_add_lead_contract.py:57: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x000002D7CE254690>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:97: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1747548177795,"stop":1747548177797,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests","time":{"start":1747548177797,"stop":1747548177797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"driver","time":{"start":1747548525507,"stop":1747548534515,"duration":9008},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"login_page","time":{"start":1747548534515,"stop":1747548535198,"duration":683},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"open_crm_as_admin","time":{"start":1747548535198,"stop":1747548547370,"duration":12172},"status":"passed","steps":[{"name":"enter correct login and password","time":{"start":1747548539957,"stop":1747548546813,"duration":6856},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Check correct url","time":{"start":1747548546813,"stop":1747548546847,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"64e1741826973acd","name":"screenshot","source":"64e1741826973acd.png","type":"image/png","size":197996}],"parameters":[],"stepsCount":2,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"lead_page","time":{"start":1747548547370,"stop":1747548547383,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"product_page","time":{"start":1747548547383,"stop":1747548547389,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"contract_create_page","time":{"start":1747548547389,"stop":1747548547394,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x000002D7CE256910>\nproduct_page = <pages.lead_page.product_page.ProductPage object at 0x000002D7CE255A90>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x000002D7CE254690>\n\n    @pytest.mark.smoke('smoke test')\n    def test_create_old_lead_silver_cash_contract(open_crm_as_admin, lead_page, product_page, contract_create_page):\n        # Смена офиса\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot()\n        # Переход к созданию лида\n        lead_page.navigate_to_lead_create()\n        lead_page.take_screenshot()\n        # Выбор клиента из базы\n        lead_page.chose_old_client_to_lead()\n        lead_page.take_screenshot()\n        # Добавление продукта\n        product_page.add_product_silver()\n        product_page.take_screenshot()\n        # Выбор тарифа\n        contract_create_page.contract_tariff_chose_1()\n        contract_create_page.take_screenshot()\n        # Создание договора\n        contract_create_page.create_operation_create_contract()\n        contract_create_page.take_screenshot()\n        # Печать документа\n>       contract_create_page.print_document()\n\ntests\\test_add_lead_contract.py:57: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x000002D7CE254690>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:97: AttributeError","steps":[],"attachments":[{"uid":"cf4a3a12a6023fb8","name":"screenshot","source":"cf4a3a12a6023fb8.png","type":"image/png","size":231857},{"uid":"581a842907e4c6b0","name":"screenshot","source":"581a842907e4c6b0.png","type":"image/png","size":111311},{"uid":"7b20e7114e86f49b","name":"screenshot","source":"7b20e7114e86f49b.png","type":"image/png","size":118513},{"uid":"1f0b4312195a4d6d","name":"screenshot","source":"1f0b4312195a4d6d.png","type":"image/png","size":144341},{"uid":"7915667d367d6500","name":"screenshot","source":"7915667d367d6500.png","type":"image/png","size":197893},{"uid":"c8274c5729e58641","name":"screenshot","source":"c8274c5729e58641.png","type":"image/png","size":111282},{"uid":"2ded88df6eaaca9a","name":"log","source":"2ded88df6eaaca9a.txt","type":"text/plain","size":595}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":7},"afterStages":[{"name":"driver::0","time":{"start":1747548665181,"stop":1747548669017,"duration":3836},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests::0","time":{"start":1747550127192,"stop":1747550129485,"duration":2293},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"tag","value":"smoke('smoke test')"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_add_lead_contract"},{"name":"host","value":"LAPTOP-R624DMFA"},{"name":"thread","value":"2108-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_add_lead_contract"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["smoke('smoke test')"]},"source":"d371d0fbe941ea57.json","parameterValues":[]}
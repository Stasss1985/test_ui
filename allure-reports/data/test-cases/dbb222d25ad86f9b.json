{"uid":"dbb222d25ad86f9b","name":"test_01_sale_in_shop_product","fullName":"tests.test_1_sale_in_shop.test_1_sale_in_shop#test_01_sale_in_shop_product","historyId":"61c570a5c80e9195a1325ae1db2218fc","time":{"start":1747140326851,"stop":1747140406602,"duration":79751},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x0000017D11155310>\nshop_sale_page = <pages.shop_page.shop_sale_page.ShopSalePage object at 0x0000017D11155250>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000017D11154810>\n\n    @pytest.mark.smoke('smoke test')\n    def test_01_sale_in_shop_product(open_crm_as_admin, lead_page, shop_sale_page, contract_create_page):\n        logging.info('Старт проверки \"Продажа техники из магазина за наличку\"')\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot(\"change_office\")\n    \n        logging.info('Переход в магазин')\n        shop_sale_page.navigate_to_shop_page()\n        shop_sale_page.take_screenshot(\"navigated_to_shop\")\n    \n        logging.info('Открытие фильтра справа и сортировка для продажи товаров (не ЮИ)')\n        shop_sale_page.filter_for_sale_product_in_shop()\n    \n        logging.info('Продажа товара из магазина (не ЮИ)')\n        shop_sale_page.sale_product_in_shop()\n    \n        logging.info('Печать документа')\n>       contract_create_page.print_document()\n\ntests\\test_1_sale_in_shop\\test_1_sale_in_shop.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000017D11154810>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:96: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1747140307682,"stop":1747140307683,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests","time":{"start":1747140307684,"stop":1747140307684,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"driver","time":{"start":1747140307684,"stop":1747140315184,"duration":7500},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"login_page","time":{"start":1747140315184,"stop":1747140315261,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"open_crm_as_admin","time":{"start":1747140315261,"stop":1747140326840,"duration":11579},"status":"passed","steps":[{"name":"enter correct login and password","time":{"start":1747140319723,"stop":1747140326396,"duration":6673},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Check correct url","time":{"start":1747140326396,"stop":1747140326402,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"fd2b00176dc217a2","name":"screenshot","source":"fd2b00176dc217a2.png","type":"image/png","size":195048}],"parameters":[],"stepsCount":2,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"lead_page","time":{"start":1747140326840,"stop":1747140326844,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"shop_sale_page","time":{"start":1747140326844,"stop":1747140326846,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"contract_create_page","time":{"start":1747140326846,"stop":1747140326850,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x0000017D11155310>\nshop_sale_page = <pages.shop_page.shop_sale_page.ShopSalePage object at 0x0000017D11155250>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000017D11154810>\n\n    @pytest.mark.smoke('smoke test')\n    def test_01_sale_in_shop_product(open_crm_as_admin, lead_page, shop_sale_page, contract_create_page):\n        logging.info('Старт проверки \"Продажа техники из магазина за наличку\"')\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot(\"change_office\")\n    \n        logging.info('Переход в магазин')\n        shop_sale_page.navigate_to_shop_page()\n        shop_sale_page.take_screenshot(\"navigated_to_shop\")\n    \n        logging.info('Открытие фильтра справа и сортировка для продажи товаров (не ЮИ)')\n        shop_sale_page.filter_for_sale_product_in_shop()\n    \n        logging.info('Продажа товара из магазина (не ЮИ)')\n        shop_sale_page.sale_product_in_shop()\n    \n        logging.info('Печать документа')\n>       contract_create_page.print_document()\n\ntests\\test_1_sale_in_shop\\test_1_sale_in_shop.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000017D11154810>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:96: AttributeError","steps":[],"attachments":[{"uid":"88911860d5fbf0d7","name":"change_office","source":"88911860d5fbf0d7.png","type":"image/png","size":196196},{"uid":"8f376386a58adb0c","name":"navigated_to_shop","source":"8f376386a58adb0c.png","type":"image/png","size":225309},{"uid":"80297af19cfb0428","name":"log","source":"80297af19cfb0428.txt","type":"text/plain","size":1186}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":3},"afterStages":[{"name":"driver::0","time":{"start":1747140406912,"stop":1747140413093,"duration":6181},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests::0","time":{"start":1747140413096,"stop":1747140415430,"duration":2334},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"tag","value":"smoke('smoke test')"},{"name":"parentSuite","value":"tests.test_1_sale_in_shop"},{"name":"suite","value":"test_1_sale_in_shop"},{"name":"host","value":"LAPTOP-R624DMFA"},{"name":"thread","value":"6364-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_1_sale_in_shop.test_1_sale_in_shop"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["smoke('smoke test')"]},"source":"dbb222d25ad86f9b.json","parameterValues":[]}
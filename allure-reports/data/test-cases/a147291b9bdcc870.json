{"uid":"a147291b9bdcc870","name":"test_01_sale_in_shop_product","fullName":"tests.test_1_sale_in_shop.test_1_sale_in_shop#test_01_sale_in_shop_product","historyId":"61c570a5c80e9195a1325ae1db2218fc","time":{"start":1747139129370,"stop":1747139209377,"duration":80007},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x0000024235065D50>\nshop_sale_page = <pages.shop_page.shop_sale_page.ShopSalePage object at 0x00000242350665D0>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000024235065510>\n\n    @pytest.mark.smoke('smoke test')\n    def test_01_sale_in_shop_product(open_crm_as_admin, lead_page, shop_sale_page, contract_create_page):\n        logging.info('Старт проверки \"Продажа техники из магазина за наличку\"')\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot(\"change_office\")\n    \n        logging.info('Переход в магазин')\n        shop_sale_page.navigate_to_shop_page()\n        shop_sale_page.take_screenshot(\"navigated_to_shop\")\n    \n        logging.info('Открытие фильтра справа и сортировка для продажи товаров (не ЮИ)')\n        shop_sale_page.filter_for_sale_product_in_shop()\n    \n        logging.info('Продажа товара из магазина (не ЮИ)')\n        shop_sale_page.sale_product_in_shop()\n    \n        logging.info('Печать документа')\n>       contract_create_page.print_document()\n\ntests\\test_1_sale_in_shop\\test_1_sale_in_shop.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000024235065510>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:96: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1747139106765,"stop":1747139106767,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"driver","time":{"start":1747139106767,"stop":1747139114401,"duration":7634},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests","time":{"start":1747139106767,"stop":1747139106767,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"login_page","time":{"start":1747139114401,"stop":1747139114490,"duration":89},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"open_crm_as_admin","time":{"start":1747139114490,"stop":1747139129360,"duration":14870},"status":"passed","steps":[{"name":"enter correct login and password","time":{"start":1747139122890,"stop":1747139129118,"duration":6228},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Check correct url","time":{"start":1747139129118,"stop":1747139129130,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"650763924c6ab9e3","name":"d6bdc59e-979a-4ac8-891c-dd25b406b84a-attachment.png","source":"650763924c6ab9e3.png","type":"image/png","size":190770}],"parameters":[],"stepsCount":2,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"lead_page","time":{"start":1747139129360,"stop":1747139129363,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"shop_sale_page","time":{"start":1747139129363,"stop":1747139129366,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"contract_create_page","time":{"start":1747139129367,"stop":1747139129369,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x0000024235065D50>\nshop_sale_page = <pages.shop_page.shop_sale_page.ShopSalePage object at 0x00000242350665D0>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000024235065510>\n\n    @pytest.mark.smoke('smoke test')\n    def test_01_sale_in_shop_product(open_crm_as_admin, lead_page, shop_sale_page, contract_create_page):\n        logging.info('Старт проверки \"Продажа техники из магазина за наличку\"')\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot(\"change_office\")\n    \n        logging.info('Переход в магазин')\n        shop_sale_page.navigate_to_shop_page()\n        shop_sale_page.take_screenshot(\"navigated_to_shop\")\n    \n        logging.info('Открытие фильтра справа и сортировка для продажи товаров (не ЮИ)')\n        shop_sale_page.filter_for_sale_product_in_shop()\n    \n        logging.info('Продажа товара из магазина (не ЮИ)')\n        shop_sale_page.sale_product_in_shop()\n    \n        logging.info('Печать документа')\n>       contract_create_page.print_document()\n\ntests\\test_1_sale_in_shop\\test_1_sale_in_shop.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000024235065510>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:96: AttributeError","steps":[],"attachments":[{"uid":"dab6d19017e82a2a","name":"1882795a-6887-4de9-82aa-54cd53ae3501-attachment.png","source":"dab6d19017e82a2a.png","type":"image/png","size":182577},{"uid":"cbbf4c468308f6d6","name":"0add5250-d308-49a5-bbf8-67193d52f01f-attachment.png","source":"cbbf4c468308f6d6.png","type":"image/png","size":225311},{"uid":"ece50bf983f2f39d","name":"log","source":"ece50bf983f2f39d.txt","type":"text/plain","size":1186}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":3},"afterStages":[{"name":"driver::0","time":{"start":1747139209642,"stop":1747139215797,"duration":6155},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests::0","time":{"start":1747139215802,"stop":1747139218212,"duration":2410},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"tag","value":"smoke('smoke test')"},{"name":"parentSuite","value":"tests.test_1_sale_in_shop"},{"name":"suite","value":"test_1_sale_in_shop"},{"name":"host","value":"LAPTOP-R624DMFA"},{"name":"thread","value":"18928-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_1_sale_in_shop.test_1_sale_in_shop"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["smoke('smoke test')"]},"source":"a147291b9bdcc870.json","parameterValues":[]}
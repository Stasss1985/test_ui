{"uid":"1b5c65733dcafed4","name":"test_create_old_lead_laptop_cash_contract","fullName":"tests.test_add_lead_contract#test_create_old_lead_laptop_cash_contract","historyId":"1ab533361232fa234c58c836827a14eb","time":{"start":1747746340110,"stop":1747746436861,"duration":96751},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x0000020FF9EB7010>\nproduct_page = <pages.lead_page.product_page.ProductPage object at 0x0000020FF9EB4190>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000020FF9EB4690>\n\n    @pytest.mark.smoke('smoke test')\n    def test_create_old_lead_laptop_cash_contract(open_crm_as_admin, lead_page, product_page, contract_create_page):\n        # Смена офиса\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot()\n        # Переход к созданию лида\n        lead_page.navigate_to_lead_create()\n        lead_page.take_screenshot()\n        # Выбор клиента из базы\n        lead_page.chose_old_client_to_lead()\n        lead_page.take_screenshot()\n        # Добавление продукта\n        product_page.add_product_laptop()\n        product_page.take_screenshot()\n        # Выбор тарифа\n        contract_create_page.contract_tariff_chose_2()\n        contract_create_page.take_screenshot()\n        # Создание договора\n        contract_create_page.create_operation_create_contract()\n        contract_create_page.take_screenshot()\n        # Печать документа\n>       contract_create_page.print_document()\n\ntests\\test_add_lead_contract.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000020FF9EB4690>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:97: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1747745885823,"stop":1747745885825,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests","time":{"start":1747745885825,"stop":1747745885825,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"driver","time":{"start":1747746320623,"stop":1747746324643,"duration":4020},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"login_page","time":{"start":1747746324643,"stop":1747746324689,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"open_crm_as_admin","time":{"start":1747746324689,"stop":1747746340097,"duration":15408},"status":"passed","steps":[{"name":"enter correct login and password","time":{"start":1747746331085,"stop":1747746338952,"duration":7867},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Check correct url","time":{"start":1747746338952,"stop":1747746338967,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"295b0ea1a08d66f2","name":"screenshot","source":"295b0ea1a08d66f2.png","type":"image/png","size":366388}],"parameters":[],"stepsCount":2,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"lead_page","time":{"start":1747746340097,"stop":1747746340101,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"product_page","time":{"start":1747746340101,"stop":1747746340106,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"contract_create_page","time":{"start":1747746340106,"stop":1747746340109,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'click'","statusTrace":"open_crm_as_admin = None, lead_page = <pages.lead_page.lead_page.LeadPage object at 0x0000020FF9EB7010>\nproduct_page = <pages.lead_page.product_page.ProductPage object at 0x0000020FF9EB4190>\ncontract_create_page = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000020FF9EB4690>\n\n    @pytest.mark.smoke('smoke test')\n    def test_create_old_lead_laptop_cash_contract(open_crm_as_admin, lead_page, product_page, contract_create_page):\n        # Смена офиса\n        lead_page.change_office_1_maya()\n        lead_page.take_screenshot()\n        # Переход к созданию лида\n        lead_page.navigate_to_lead_create()\n        lead_page.take_screenshot()\n        # Выбор клиента из базы\n        lead_page.chose_old_client_to_lead()\n        lead_page.take_screenshot()\n        # Добавление продукта\n        product_page.add_product_laptop()\n        product_page.take_screenshot()\n        # Выбор тарифа\n        contract_create_page.contract_tariff_chose_2()\n        contract_create_page.take_screenshot()\n        # Создание договора\n        contract_create_page.create_operation_create_contract()\n        contract_create_page.take_screenshot()\n        # Печать документа\n>       contract_create_page.print_document()\n\ntests\\test_add_lead_contract.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.lead_page.contract_сreate_page.ContractCreatePage object at 0x0000020FF9EB4690>\n\n    def print_document(self):\n        original_window = self.driver.current_window_handle  # Сохраняем текущее окно\n    \n        # Клик по кнопке печати документа с явным ожиданием\n        btn_print_dok = self.wait_clickable(self.loc.PRINT_DOCUMENT_BUTTON)\n>       btn_print_dok.click()\nE       AttributeError: 'NoneType' object has no attribute 'click'\n\npages\\lead_page\\contract_сreate_page.py:97: AttributeError","steps":[],"attachments":[{"uid":"9a45016325b1932e","name":"screenshot","source":"9a45016325b1932e.png","type":"image/png","size":357322},{"uid":"d9ec1fa3add0b14b","name":"screenshot","source":"d9ec1fa3add0b14b.png","type":"image/png","size":171826},{"uid":"bace1161c12cd99d","name":"screenshot","source":"bace1161c12cd99d.png","type":"image/png","size":209247},{"uid":"bac1fc8007340009","name":"screenshot","source":"bac1fc8007340009.png","type":"image/png","size":286743},{"uid":"2b3100b976f246fa","name":"screenshot","source":"2b3100b976f246fa.png","type":"image/png","size":284240},{"uid":"6b6f9ae707e8e40e","name":"screenshot","source":"6b6f9ae707e8e40e.png","type":"image/png","size":122416},{"uid":"e35d380a222ced4b","name":"log","source":"e35d380a222ced4b.txt","type":"text/plain","size":595}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":7},"afterStages":[{"name":"driver::0","time":{"start":1747746440969,"stop":1747746443770,"duration":2801},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"play_sound_after_tests::0","time":{"start":1747747819534,"stop":1747747822003,"duration":2469},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"tag","value":"smoke('smoke test')"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_add_lead_contract"},{"name":"host","value":"LAPTOP-R624DMFA"},{"name":"thread","value":"20192-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_add_lead_contract"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["smoke('smoke test')"]},"source":"1b5c65733dcafed4.json","parameterValues":[]}